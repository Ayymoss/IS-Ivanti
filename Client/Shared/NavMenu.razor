@inject ILocalStorageService LocalStorage
@inject AuthenticationStateProvider AuthStateProvider

<MudPaper Class="d-flex flex-column" Height="100%" Elevation="0">
    <MudNavMenu Rounded="true" Margin="Margin.Normal" Color="Color.Info" Class="pa-2">
        <MudNavLink Href="/" Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.Home">Home</MudNavLink>
        <AuthorizeView>
            <Authorized>
                <MudNavGroup Title="Ivanti" Icon="@Icons.Material.Filled.Shield" Expanded="true">
                    <MudNavLink Href="/Agents" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.Computer">Agents</MudNavLink>
                    <MudNavLink Href="/Jobs" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.HourglassTop">Background Jobs</MudNavLink>
                </MudNavGroup>
                <MudNavGroup Title="Sentinel One" Icon="@Icons.Material.Filled.Coronavirus" Expanded="true">
                    <MudNavLink Href="/SentinelOne" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.PendingActions">Actions Required</MudNavLink>
                </MudNavGroup>
            </Authorized>
        </AuthorizeView>
        <AuthorizeView Roles="Administrator">
            <Authorized>
                <MudNavGroup Title="Proofpoint" Icon="@Icons.Material.Filled.Web" Expanded="true">
                    <MudNavLink Href="/Proofpoint" Match="NavLinkMatch.Prefix" Icon="@Icons.Material.Filled.PendingActions">Isolated URLs</MudNavLink>
                </MudNavGroup>
            </Authorized>
        </AuthorizeView>
    </MudNavMenu>
    <MudSpacer/>
    <MudStack Spacing="0">
        <MudText Align="Align.Center" Typo="Typo.caption" Class="mb-2">Ideal Standard &copy; 2023</MudText>
        <MudDivider Class="mb-1" FlexItem="true" Light="true" DividerType="DividerType.FullWidth"/>
        <MudElement Class="d-inline-flex align-center mx-2 mb-1">
            <MudElement>
                <MudTooltip Text="Developed by Ryan Amos" Arrow="true" Placement="Placement.Right">
                    <MudText Typo="Typo.caption" Class="mud-text-disabled">ISI Patch</MudText>
                </MudTooltip>
            </MudElement>
            <MudSpacer/>
            <MudElement>
                <MudText Typo="Typo.caption" Class="mud-text-disabled">@_versionNumber</MudText>
            </MudElement>
        </MudElement>
    </MudStack>

</MudPaper>

@code {
    private string _versionNumber = Utilities.GetVersionAsString();
}
